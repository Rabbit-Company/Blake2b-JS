var w;((n)=>{const R=new Uint32Array(32),N=new Uint32Array(32),K=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Y=new Uint8Array(64).fill(0),q=new Uint8Array(m.map(function(E){return E*2}));function Z(E,P,L){const j=E[P]+E[L];let J=E[P+1]+E[L+1];if(j>=4294967296)J++;E[P]=j,E[P+1]=J}function T(E,P,L,j){let J=E[P]+L;if(L<0)J+=4294967296;let X=E[P+1]+j;if(J>=4294967296)X++;E[P]=J,E[P+1]=X}function Q(E,P){return E[P]^E[P+1]<<8^E[P+2]<<16^E[P+3]<<24}function F(E,P,L,j,J,X){const g=N[J],B=N[J+1],k=N[X],u=N[X+1];Z(R,E,P),T(R,E,g,B);let $=R[j]^R[E],f=R[j+1]^R[E+1];R[j]=f,R[j+1]=$,Z(R,L,j),$=R[P]^R[L],f=R[P+1]^R[L+1],R[P]=$>>>24^f<<8,R[P+1]=f>>>24^$<<8,Z(R,E,P),T(R,E,k,u),$=R[j]^R[E],f=R[j+1]^R[E+1],R[j]=$>>>16^f<<16,R[j+1]=f>>>16^$<<16,Z(R,L,j),$=R[P]^R[L],f=R[P+1]^R[L+1],R[P]=f>>>31^$<<1,R[P+1]=$>>>31^f<<1}function C(E,P){let L=0;for(L=0;L<16;L++)R[L]=E.h[L],R[L+16]=K[L];if(R[24]=R[24]^E.t,R[25]=R[25]^E.t/4294967296,P)R[28]=~R[28],R[29]=~R[29];for(L=0;L<32;L++)N[L]=Q(E.b,4*L);for(L=0;L<12;L++)F(0,8,16,24,q[L*16+0],q[L*16+1]),F(2,10,18,26,q[L*16+2],q[L*16+3]),F(4,12,20,28,q[L*16+4],q[L*16+5]),F(6,14,22,30,q[L*16+6],q[L*16+7]),F(0,10,20,30,q[L*16+8],q[L*16+9]),F(2,12,22,24,q[L*16+10],q[L*16+11]),F(4,14,16,26,q[L*16+12],q[L*16+13]),F(6,8,18,28,q[L*16+14],q[L*16+15]);for(L=0;L<16;L++)E.h[L]=E.h[L]^R[L]^R[L+16]}function U(E,P,L,j){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(P&&P.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(L&&L.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(j&&j.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const J={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};if(Y.fill(0),Y[0]=E,P)Y[1]=P.length;if(Y[2]=1,Y[3]=1,L)Y.set(L,32);if(j)Y.set(j,48);for(let X=0;X<16;X++)J.h[X]=K[X]^Q(Y,X*4);if(P)D(J,P),J.c=128;return J}function D(E,P){for(let L=0;L<P.length;L++){if(E.c===128)E.t+=E.c,C(E,!1),E.c=0;E.b[E.c++]=P[L]}}function S(E){E.t+=E.c;while(E.c<128)E.b[E.c++]=0;C(E,!0);const P=new Uint8Array(E.outlen);for(let L=0;L<E.outlen;L++)P[L]=E.h[L>>2]>>8*(L&3);return P}function G(E,P,L,j,J){L=L||64;const X=U(L,P,V(j),V(J));return D(X,V(E)),S(X)}function V(E){let P;if(E instanceof Uint8Array)P=E;else if(typeof E==="string")P=new TextEncoder().encode(E);else throw new Error("Input must be an string, Buffer or Uint8Array");return P}function d(E){return Array.prototype.map.call(E,function(P){return(P<16?"0":"")+P.toString(16)}).join("")}function A(E="",P=void 0,L=64,j=new Uint8Array(16),J=new Uint8Array(16)){if(P?.length===0)P=void 0;if(typeof P==="string")P=new TextEncoder().encode(P);const X=G(E,P,L,j,J);return d(X)}n.hash=A})(w||={});var W=w;function I(){let R=M?.value,N=_?.value;if(O)O.innerHTML="<b>Hash:</b> "+W.hash(R,N)}function z(R){return Math.floor(Math.random()*R)}function H(R){return Date.now()-R}var O=document.getElementById("hash"),M=document.getElementById("message"),_=document.getElementById("secretKey"),y=document.getElementById("amount");if(O)O.innerHTML="<b>Hash:</b> "+W.hash("");M.addEventListener("input",()=>{I()});_.addEventListener("input",()=>{I()});document.getElementById("btn-start")?.addEventListener("click",()=>{const R=document.getElementById("perf");if(!R)return;let N=parseInt(y?.value,10);if(N<1)N=1;if(N>1e5)N=1e5;let K=[],m=[],Y="test123",q=Date.now();R.innerText="1. Performance test has started.\n";let Z=Date.now();for(let Q=0;Q<N;Q++)K[Q]=btoa(""+z(1e5)+Date.now()+z(1e5));R.innerText+="2. "+N+" random messages generated in "+H(Z)+" milliseconds.\n",Z=Date.now();for(let Q=0;Q<N;Q++)m[Q]=W.hash(K[Q],Y);R.innerText+="3. "+N+" random messages hashed in "+H(Z)+" milliseconds.\n",Z=Date.now();let T=0;for(let Q=0;Q<N;Q++)if(m[Q]===W.hash(K[Q],Y))T++;R.innerText+="4. "+T+" random messages validated successfully in "+H(Z)+" milliseconds.\n",R.innerText+="5. Performance test has completed in "+H(q)+" milliseconds.\n"});
